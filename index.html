<!DOCTYPE html>
<html lang="id" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scanner Pintar | Aplikasi Scanner Kartu Nama & QR Code Berbasis AI</title>

    <!-- Favicon -->
    <link rel="icon" href="https://raw.githubusercontent.com/masisparmo/scannerkartunamallama/refs/heads/main/scanner-pintar.ico" type="image/x-icon">

    <!-- PWA Manifest Link -->
    <link rel="manifest" href="manifest.json">

    <!-- Theme Color for Browser UI -->
    <meta name="theme-color" content="#4f46e5"/>

    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Scanner Pintar">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/masisparmo/scannerkartunamallama/refs/heads/main/scanner-pintar-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <!-- Tagify CSS -->
    <link href="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css" rel="stylesheet" type="text/css" />

    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <!-- Google API Libraries -->
    <script async defer src="https://apis.google.com/js/api.js"></script>
    <script async defer src="https://accounts.google.com/gsi/client"></script>

    <script>
        tailwind.config = { darkMode: 'class' }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .loader { border: 4px solid rgba(0,0,0,0.1); border-top-color: #4f46e5; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        .dark .loader { border-color: rgba(255,255,255,0.2); border-top-color: #6366f1; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        .camera-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: space-between; background: linear-gradient(to bottom, rgba(0,0,0,0.4), transparent, rgba(0,0,0,0.6)); }
        .scan-frame { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); width: 80%; max-width: 320px; aspect-ratio: 1/1; border: 2px dashed rgba(255,255,255,0.5); border-radius: 1.5rem; }
        .toast { transition: opacity 0.3s ease, transform 0.3s ease; z-index: 100; }
        .modal-backdrop { transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease, opacity 0.3s ease; }
        .modal-button { padding: .75rem 1.25rem; height: 48px; display: inline-flex; align-items: center; justify-content: center; text-align: center; font-weight: 600; border-radius: .5rem; transition: all .2s ease-in-out; white-space: nowrap; }
        #scan-mode-label { transition: opacity .3s ease; }
        .btn-loader { width: 20px !important; height: 20px !important; border-width: 2px !important; }
        #qr-code-container { display: flex; justify-content: center; align-items: center; background: white; padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; }
        #log-icon { position: fixed; bottom: 1rem; right: 1rem; z-index: 100; }
        #log-viewer-modal .log-entry { border-bottom: 1px solid #4a5568; }
        #log-viewer-modal .log-entry:last-child { border-bottom: none; }
        .contact-card { cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .contact-card:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .dark .contact-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.3); }

        /* Tagify Custom Styles */
        .tagify { --tag-bg: #e5e7eb; --tag-hover: #d1d5db; --tag-text-color: #1f2937; --tags-border-color: #d1d5db; }
        .dark .tagify { --tag-bg: #374151; --tag-hover: #4b5563; --tag-text-color: #f3f4f6; --tags-border-color: #4b5563; }
        .tagify__input { font-size: 1rem; }
        .tagify__tag > div::before { background: var(--tag-hover); }

        .filter-dropdown { transition: opacity 0.2s ease, transform 0.2s ease; }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200">

    <div class="app-container max-w-lg mx-auto shadow-2xl min-h-screen flex flex-col bg-gray-50 dark:bg-[#0D1117] relative">
        <div id="collaboration-mode-indicator" class="hidden sticky top-0 bg-indigo-600 text-white text-xs text-center p-2 z-20 shadow-lg">
            <strong data-translate-key="collabMode">Mode Kolaborasi:</strong> <span id="collab-session-name"></span> | <strong data-translate-key="collabUser">User:</strong> <span id="collab-user-name"></span>
            <button id="exit-collab-btn" class="absolute top-1/2 right-2 -translate-y-1/2 text-indigo-200 hover:text-white"><i data-lucide="x" class="w-5 h-5"></i></button>
        </div>

        <main class="main-content flex-grow flex flex-col">
            <div id="initial-screen" class="screen p-8 flex flex-col justify-center items-center text-center flex-grow">
                 <div class="absolute top-5 right-5 z-30 flex items-center gap-2">
                    <button id="lang-toggle-initial" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-full text-xs uppercase tracking-wider transition-colors w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 flex items-center justify-center">EN</button>
                    <button id="profile-settings-btn" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-full text-xs uppercase tracking-wider transition-colors w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 flex items-center justify-center">
                        <i data-lucide="user" class="sm:hidden w-5 h-5"></i>
                        <span class="hidden sm:inline" data-translate-key="profileBtn">PROFIL</span>
                    </button>
                    <button id="theme-toggle-initial" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-full text-xs uppercase tracking-wider transition-colors w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 flex items-center justify-center">
                        <i data-lucide="sun" class="sm:hidden w-5 h-5"></i>
                        <i data-lucide="moon" class="sm:hidden w-5 h-5"></i>
                        <span class="hidden sm:inline" data-translate-key="themeBtn">TEMA</span>
                    </button>
                </div>
                <div class="w-full pt-16">
                    <div class="flex justify-center mb-8">
                        <img src="https://raw.githubusercontent.com/masisparmo/scannerkartunamallama/refs/heads/main/scanner-pintar.png" alt="Logo Scanner Pintar" class="w-24 h-24 rounded-full">
                    </div>
                    <h1 class="text-3xl font-bold text-gray-900 dark:text-white" data-translate-key="appTitle">SCANNER PINTAR</h1>
                    <p class="text-gray-500 dark:text-gray-400 mt-2" data-translate-key="appSubtitle">Scanner Kartu Nama & QR Code Berbasis AI</p>
                </div>
                <div id="session-form-container" class="w-full text-left my-8 space-y-4">
                    <div><label for="session-acara" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="eventNameLabel">Nama Acara</label><input type="text" id="session-acara" data-translate-key-placeholder="eventNamePlaceholder" placeholder="Contoh: Pameran Konstruksi 2025" class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"></div>
                    <div class="grid grid-cols-2 gap-4">
                        <div><label for="session-tanggal" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="dateLabel">Tanggal</label><input type="text" id="session-tanggal" class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"></div>
                        <div><label for="session-catatan" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="notesLabel">Catatan</label><input type="text" id="session-catatan" data-translate-key-placeholder="notesPlaceholder" placeholder="Opsional" class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"></div>
                    </div>
                </div>
                <div class="w-full flex flex-col gap-4">
                     <button id="start-scan-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-full shadow-lg transition-transform transform hover:scale-105 flex items-center justify-center gap-3 text-lg" data-translate-key="scanCardBtn">SCAN KARTU NAMA</button>
                     <button id="upload-btn" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 px-6 rounded-full shadow-lg transition-transform transform hover:scale-105 flex items-center justify-center gap-3 text-lg" data-translate-key="uploadGalleryBtn">UPLOAD DARI GALERI</button>
                     <div class="border-t border-gray-200 dark:border-gray-700 w-3/4 mx-auto my-2"></div>
                     <button id="create-session-btn" class="w-full bg-gray-700 hover:bg-gray-800 text-white font-bold py-3 px-6 rounded-full shadow-lg flex items-center justify-center gap-3 text-base hidden" data-translate-key="collabModeBtn">MODE KOLABURASI TIM</button>
                     <button id="view-results-btn" class="w-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-bold py-3 px-6 rounded-full shadow-lg hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center justify-center gap-2 uppercase"><span data-translate-key="viewResultsBtn">LIHAT HASIL SCAN</span> <span id="home-contact-count" class="bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 text-xs font-bold px-2 py-0.5 rounded-full">0</span></button>
                </div>
                <input type="file" id="image-upload-input" class="hidden" accept="image/*">
            </div>

            <div id="create-session-screen" class="hidden screen p-8 flex flex-col justify-center items-center text-center flex-grow">
                <h2 class="text-2xl font-bold" data-translate-key="createCollabTitle">Buat Sesi Kolaborasi Baru</h2>
                <p class="text-gray-500 dark:text-gray-400 mt-2 mb-8" data-translate-key="createCollabSubtitle">Masukkan nama acara untuk membuat sesi yang dapat dibagikan.</p>
                <div class="w-full max-w-sm">
                     <label for="collab-session-name-input" class="text-sm font-medium text-gray-600 dark:text-gray-400 text-left block" data-translate-key="collabSessionNameLabel">Nama Acara / Sesi</label>
                     <input type="text" id="collab-session-name-input" data-translate-key-placeholder="collabSessionNamePlaceholder" placeholder="Contoh: Pameran Konstruksi 2025" class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500">
                     <div class="flex gap-4 mt-6">
                        <button id="cancel-create-session-btn" class="w-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-semibold py-3 px-4 rounded-full" data-translate-key="cancelBtn">BATAL</button>
                        <button id="generate-session-qr-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-full uppercase" data-translate-key="createQrBtn">Buat QR Code</button>
                     </div>
                </div>
            </div>

            <div id="profile-screen" class="hidden screen flex-col"><header class="p-6 flex justify-between items-center border-b border-gray-200 dark:border-gray-700"><h2 class="text-2xl font-bold" data-translate-key="myProfileTitle">Profil Saya</h2><button id="back-to-home-from-profile" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button></header><div class="p-8 space-y-4 flex-grow">
                <div><label for="profile-nama" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="yourNameLabel">Nama Anda</label><input type="text" id="profile-nama" data-translate-key-placeholder="yourNamePlaceholder" placeholder="Cth: Isparmo" class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div><label for="profile-jabatan" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="yourPositionLabel">Jabatan Anda</label><input type="text" id="profile-jabatan" data-translate-key-placeholder="yourPositionPlaceholder" placeholder="Cth: Marketing Manager" class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div><label for="profile-perusahaan" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="yourCompanyLabel">Nama Perusahaan Anda</label><input type="text" id="profile-perusahaan" data-translate-key-placeholder="yourCompanyPlaceholder" placeholder="Cth: PT Multibangun Rekatama Patria" class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div><label for="profile-deskripsi" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="companyDescLabel">Deskripsi Singkat Perusahaan</label><textarea id="profile-deskripsi" rows="3" data-translate-key-placeholder="companyDescPlaceholder" placeholder="Cth: Spesialis Geosintetik sejak 1995..." class="w-full mt-1 p-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg"></textarea></div></div><footer class="p-6"><button id="save-profile-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-full" data-translate-key="saveProfileBtn">SIMPAN PROFIL</button></footer></div>

            <div id="scanner-screen" class="hidden screen relative bg-black flex-grow"><video id="video" autoplay playsinline></video><div class="scan-frame"></div><div class="camera-overlay p-6"><div class="flex justify-between items-center"><p id="scan-mode-label" class="text-white font-medium text-sm bg-black/50 px-3 py-1 rounded-full" data-translate-key="scanInstructions">Arahkan ke Kartu Nama atau QR Code</p><button id="cancel-scan-btn" class="p-3 bg-black/50 rounded-full text-white hover:bg-black/80"><i data-lucide="x" class="w-6 h-6"></i></button></div><div class="flex justify-center items-center"><button id="capture-btn" class="w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-2xl ring-4 ring-white/30 transition-transform transform hover:scale-110" data-translate-key="scanBtn">SCAN</button></div></div><canvas id="canvas" class="hidden"></canvas></div>
            <div id="processing-screen" class="hidden screen justify-center items-center text-center p-8 flex-grow"><div class="loader mb-6"></div><h2 id="processing-title" class="text-2xl font-bold text-gray-900 dark:text-white animate-pulse" data-translate-key="processingTitle">AI Menganalisis Gambar...</h2><p class="text-gray-500 dark:text-gray-400 mt-2" data-translate-key="processingSubtitle">Mohon tunggu sebentar...</p></div>

            <div id="results-screen" class="hidden screen flex flex-col">
                <header class="p-6 flex justify-between items-center gap-4 border-b border-gray-200 dark:border-gray-700">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white flex-grow" data-translate-key="scanResultTitle">Hasil Scan</h2>
                    <button id="lang-toggle-results" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-full text-xs uppercase tracking-wider transition-colors w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 flex items-center justify-center">EN</button>
                    <button id="back-to-home-btn" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-full text-sm uppercase tracking-wider transition-colors flex items-center justify-center w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 whitespace-nowrap"><i data-lucide="home" class="w-5 h-5 sm:hidden"></i><span class="hidden sm:inline" data-translate-key="mainMenuBtn">MENU UTAMA</span></button>
                    <button id="theme-toggle-results" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-full text-xs uppercase tracking-wider transition-colors w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 flex items-center justify-center">
                        <i data-lucide="sun" class="sm:hidden w-5 h-5"></i>
                        <i data-lucide="moon" class="sm:hidden w-5 h-5"></i>
                        <span class="hidden sm:inline" data-translate-key="themeBtnResults">TEMA</span>
                    </button>
                </header>
                <div class="p-6 flex-shrink-0">
                    <div class="relative">
                        <input type="search" id="search-input" data-translate-key-placeholder="searchPlaceholder" class="w-full p-3 pl-10 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500">
                        <i data-lucide="search" class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                        <button id="filter-btn" class="absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full">
                            <i data-lucide="filter" class="w-5 h-5"></i>
                        </button>
                    </div>
                    <div id="filter-dropdown" class="hidden filter-dropdown absolute right-6 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-4 z-10 origin-top-right opacity-0 scale-95">
                        <h4 class="font-semibold mb-2" data-translate-key="filterByTag">Filter Berdasarkan Tag</h4>
                        <div id="tag-filter-list" class="flex flex-wrap gap-2 mb-4"></div>
                        <button id="clear-filter-btn" class="w-full text-sm text-indigo-600 dark:text-indigo-400 hover:underline" data-translate-key="clearFilter">Hapus Filter</button>
                    </div>
                </div>
                <div class="flex-grow p-6 pt-0 overflow-y-auto">
                    <p class="text-gray-600 dark:text-gray-400 mb-4"><span id="results-contact-count" class="font-bold">0</span> <span data-translate-key="totalContactsPart2">kontak ditemukan.</span></p>
                    <div id="results-list" class="space-y-3"></div>
                </div>
                <footer id="results-footer" class="p-6 border-t border-gray-200 dark:border-gray-700">
                    <div id="export-buttons-container" class="grid grid-cols-2 gap-4"></div>
                    <button id="clear-all-btn" class="col-span-2 w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-full shadow-lg mt-4 flex items-center justify-center gap-2 uppercase" data-translate-key="deleteAllLocalDataBtn">HAPUS SEMUA DATA LOKAL</button>
                </footer>
            </div>
        </main>
        <footer class="text-center p-6 space-y-2 text-sm text-gray-500 dark:text-gray-400">
            <div class="flex justify-center items-center gap-x-4">
                <a href="about.html" class="hover:underline hover:text-indigo-500" data-translate-key="footerAbout">Tentang</a>
                <span class="text-gray-300 dark:text-gray-600">|</span>
                <a href="help.html" class="hover:underline hover:text-indigo-500" data-translate-key="footerHelp">Bantuan</a>
                <span class="text-gray-300 dark:text-gray-600">|</span>
                <a href="terms.html" class="hover:underline hover:text-indigo-500" data-translate-key="footerTerms">Ketentuan</a>
                <span class="text-gray-300 dark:text-gray-600">|</span>
                <a href="privacy.html" class="hover:underline hover:text-indigo-500" data-translate-key="footerPrivacy">Privasi</a>
            </div>
            <p class="text-xs text-gray-400 dark:text-gray-600 pt-2" data-translate-key="footerCopyright">&copy; 2025 SCANNER PINTAR oleh Isparmo & M. Hasan</p>
        </footer>
    </div>

    <!-- Modals -->
    <div id="action-modal" class="modal-backdrop hidden fixed inset-0 bg-black/60 z-50 p-4 flex items-end sm:items-center sm:justify-center"><div class="modal-content bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-2xl shadow-xl w-full max-w-md p-6 transform translate-y-full sm:scale-95 sm:translate-y-0 opacity-0"><div class="flex justify-between items-start mb-4"><div id="action-modal-header"></div><button id="close-action-modal-btn" class="p-2 -mr-2 -mt-2 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 rounded-full"><i data-lucide="x" class="w-6 h-6"></i></button></div><div id="action-modal-body" class="text-sm text-gray-600 dark:text-gray-400 mb-6"></div><div id="action-modal-footer" class="grid grid-cols-2 gap-3"></div></div></div>
    <div id="reminder-modal" class="modal-backdrop hidden fixed inset-0 bg-black/60 z-50 p-4 flex items-center justify-center">
        <div class="modal-content bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 transform scale-95 opacity-0">
            <h3 class="text-xl font-bold mb-4" data-translate-key="reminderTitle">Buat Pengingat Janji</h3>
            <form id="reminder-form" class="space-y-3">
                <input type="hidden" id="reminder-contact-id">
                <div>
                    <label for="reminder-type" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="reminderTypeLabel">Reminder Apa</label>
                    <select id="reminder-type" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg">
                        <option value="Meeting/Presentasi">Meeting/Presentasi</option>
                        <option value="Kirim Brosur">Kirim Brosur</option>
                        <option value="Kirim Penawaran">Kirim Penawaran</option>
                        <option value="Janji Ketemu">Janji Ketemu</option>
                        <option value="Lainnya">Lainnya</option>
                    </select>
                    <input type="text" id="reminder-type-other" class="hidden w-full mt-2 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg" placeholder="Ketik jenis reminder...">
                </div>
                <div>
                    <label for="reminder-location" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="reminderLocationLabel">Tempat</label>
                    <input type="text" id="reminder-location" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg">
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label for="reminder-date" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="reminderDateLabel">Tanggal</label>
                        <input type="text" id="reminder-date" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg">
                    </div>
                    <div>
                        <label for="reminder-time" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="reminderTimeLabel">Jam</label>
                        <input type="time" id="reminder-time" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg">
                    </div>
                </div>
                <div>
                    <label for="reminder-alarm" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="reminderAlarmLabel">Waktu Pengingat</label>
                    <select id="reminder-alarm" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg">
                        <option value="-P1D">Sehari Sebelumnya</option>
                        <option value="-PT1H">Sejam Sebelumnya</option>
                        <option value="lainnya">Lainnya</option>
                    </select>
                    <input type="text" id="reminder-alarm-other" class="hidden w-full mt-2 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg" placeholder="Contoh: -P2D (2 hari) atau -PT2H (2 jam)">
                </div>
                <div>
                    <label for="reminder-notes" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="reminderNotesLabel">Catatan</label>
                    <textarea id="reminder-notes" rows="3" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></textarea>
                </div>
            </form>
            <div class="mt-6 flex items-center gap-3">
                <button id="cancel-reminder-btn" class="modal-button bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 flex-1" data-translate-key="cancelBtn">Batal</button>
                <button id="create-reminder-btn" class="modal-button bg-indigo-600 hover:bg-indigo-700 text-white flex-1" data-translate-key="createReminderBtn">BUAT REMINDER</button>
            </div>
        </div>
    </div>
    <div id="show-session-qr-modal" class="modal-backdrop hidden fixed inset-0 bg-black/60 z-50 p-4"><div class="modal-content w-full max-w-sm m-auto bg-white dark:bg-gray-800 rounded-2xl p-6 text-center"><h3 class="text-xl font-bold mb-2" data-translate-key="sessionCreatedTitle">Sesi Dibuat!</h3><p class="text-gray-600 dark:text-gray-400 mb-4" data-translate-key="sessionCreatedSubtitle">Bagikan QR Code ini ke tim Anda untuk bergabung.</p><div id="qr-code-container"></div><button id="close-qr-modal-btn" class="modal-button w-full mt-6 bg-indigo-600 text-white hover:bg-indigo-700" data-translate-key="doneBtn">SELESAI</button></div></div>
    <div id="join-session-modal" class="modal-backdrop hidden fixed inset-0 bg-black/60 z-50 p-4"><div class="modal-content w-full max-w-sm m-auto bg-white dark:bg-gray-800 rounded-2xl p-6"><h3 class="text-xl font-bold mb-2" data-translate-key="joinCollabTitle">Gabung Sesi Kolaborasi</h3><p class="text-gray-600 dark:text-gray-400 mb-4"><span data-translate-key="joinCollabInvite">Anda diundang ke sesi</span> <strong id="join-session-name" class="text-indigo-500"></strong>. <span data-translate-key="joinCollabPrompt">Masukkan nama Anda:</span></p><input type="text" id="marketing-name-input" data-translate-key-placeholder="yourNameLabel" placeholder="Nama Anda" class="w-full p-3 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"><div class="flex gap-4 mt-6"><button id="cancel-join-btn" class="modal-button flex-1 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 hover:bg-gray-300" data-translate-key="cancelBtn">BATAL</button><button id="confirm-join-btn" class="modal-button flex-1 bg-indigo-600 text-white hover:bg-indigo-700" data-translate-key="joinBtn">GABUNG</button></div></div></div>

    <div id="edit-modal" class="modal-backdrop hidden fixed inset-0 bg-black/60 z-50 p-4 flex items-center justify-center"><div class="modal-content bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 transform scale-95 opacity-0"><h3 class="text-xl font-bold mb-4" data-translate-key="editContactTitle">Edit Kontak</h3><form id="edit-form" class="space-y-3"><input type="hidden" id="edit-contact-id"><div class="grid grid-cols-2 gap-3"><div><label for="edit-nama" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="nameLabel">Nama</label><input type="text" id="edit-nama" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div><label for="edit-jabatan" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="positionLabel">Jabatan</label><input type="text" id="edit-jabatan" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div></div><div class="grid grid-cols-2 gap-3"><div><label for="edit-perusahaan" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="companyLabel">Perusahaan</label><input type="text" id="edit-perusahaan" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div><label for="edit-jenis_perusahaan" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="companyTypeLabel">Jenis Perusahaan</label><input type="text" id="edit-jenis_perusahaan" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div></div><div class="grid grid-cols-2 gap-3"><div><label for="edit-telepon_kantor" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="officePhoneLabel">Telepon Kantor</label><input type="tel" id="edit-telepon_kantor" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div><label for="edit-whatsapp" class="text-sm font-medium text-gray-600 dark:text-gray-400">WhatsApp</label><input type="tel" id="edit-whatsapp" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div></div><div><label for="edit-email" class="text-sm font-medium text-gray-600 dark:text-gray-400">Email</label><input type="email" id="edit-email" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div>
    <div>
        <label for="edit-tags" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="tagsLabel">Tags</label>
        <input type="text" id="edit-tags" name="edit-tags" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg">
    </div>
    <hr class="border-gray-200 dark:border-gray-600 !my-4"><div><label for="edit-acara" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="eventLabel">Acara</label><input type="text" id="edit-acara" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div class="grid grid-cols-2 gap-3"><div><label for="edit-tanggal" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="dateLabel">Tanggal</label><input type="text" id="edit-tanggal" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div><div><label for="edit-catatan" class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate-key="notesLabel">Catatan</label><input type="text" id="edit-catatan" class="w-full mt-1 p-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"></div></div></form><div class="mt-6 flex items-center gap-3"><button id="delete-contact-btn" class="modal-button bg-red-600 hover:bg-red-700 text-white flex-1 flex items-center justify-center gap-2" data-translate-key="deleteBtn">HAPUS</button><button id="cancel-edit-btn" class="modal-button bg-blue-600 hover:bg-blue-700 text-white flex-1" data-translate-key="cancelBtn">BATAL</button><button id="save-edit-btn" class="modal-button bg-green-600 hover:bg-green-700 text-white flex-1" data-translate-key="saveBtn">SIMPAN</button></div></div></div>

    <div id="confirm-modal" class="modal-backdrop hidden fixed inset-0 bg-black/60 z-50 p-4"><div class="modal-content bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-sm p-6 transform scale-95 opacity-0"><h3 class="text-lg font-bold mb-2" data-translate-key="confirmActionTitle">Konfirmasi Tindakan</h3><p id="confirm-message" class="text-gray-600 dark:text-gray-400 mb-6"></p><div class="flex justify-end items-center gap-3"><button id="cancel-confirm-btn" class="modal-button bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200" data-translate-key="cancelBtn">BATAL</button><button id="confirm-action-btn" class="modal-button bg-red-600 hover:bg-red-700 text-white" data-translate-key="continueBtn">LANJUTKAN</button></div></div></div>
    <div id="toast" class="toast fixed bottom-5 right-5 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 py-3 px-5 rounded-full shadow-lg opacity-0 transform translate-y-5 pointer-events-none"><p id="toast-message"></p></div>

    <!-- Log Viewer Elements -->
    <button id="log-icon" class="hidden p-2 bg-gray-800 text-white rounded-full shadow-lg hover:bg-gray-700 transition-colors uppercase">Log</button>
    <div id="log-viewer-modal" class="modal-backdrop hidden fixed inset-0 bg-black/70 z-50 p-4 flex flex-col">
        <div class="modal-content w-full h-full max-w-4xl m-auto bg-gray-900 text-white rounded-lg shadow-2xl flex flex-col">
            <header class="flex justify-between items-center p-4 border-b border-gray-700 flex-shrink-0">
                <h3 class="text-lg font-bold">Frontend Error Log</h3>
                <button id="close-log-viewer-btn" class="p-1 hover:bg-gray-700 rounded-full text-gray-300 hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
            </header>
            <div id="log-list" class="flex-grow p-4 overflow-y-auto font-mono text-sm space-y-2"></div>
            <footer class="p-3 border-t border-gray-700 flex-shrink-0 flex justify-end gap-4">
                <button id="copy-logs-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md text-xs flex items-center gap-2 uppercase">Copy Logs</button>
                <button id="clear-logs-btn" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md text-xs uppercase">Clear Logs</button>
            </footer>
        </div>
    </div>

    <!-- Tagify JS -->
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify"></script>
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.polyfills.min.js"></script>

    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <!-- Application Entry Point -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
